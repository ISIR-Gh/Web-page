---
import Layout from '../layouts/Layout.astro';
import type { ImageMetadata } from 'astro';
import { Picture } from 'astro:assets';
import { Image } from 'astro:assets';
import { getCollection } from 'astro:content';
import HeroImage from '../assets/hero-image.jpg'
import { ArrowRightIcon } from "@heroicons/vue/24/outline";
import ProjectCard from '../components/ProjectCard.astro';
import EcoEmpower from '../assets/partners/EcoEmpower.png'
import HERPolAfrica from '../assets/partners/HERPol-Africa.png'
import MasjidAlEmaan from '../assets/partners/Masjid-Al-Emaan.jpeg'
import LinkedInIcon from '../assets/linkedin.svg'
import AcknowledgementSlider from '../components/VueComponents/AcknowledgementSlider.vue';




const FocusAreas = [
	{
		title:'Child & Maternal Health',
		diescription:'Improving maternal and neonatal outcomes through health education, community outreach, and evidence-based interventions.',
		Flagship: 'Mothers First Health Initiative',
		link:'#',
	},
	{
		title:'Education (STEAM)',
		diescription:'Promoting inclusive and hands-on learning through science, technology, engineering, arts, and mathematics programs for students and teachers.',
		Flagship: 'Tamale STEAM Hub',
		link:'#',
	},
	{
		title:'Agriculture',
		diescription:'Strengthening food systems through climate-smart practices, digital advisory services, and farmer capacity development.',
		Flagship: 'AgriSmart Ghana',
		link:'#',
	},
	{
		title:'Climate Change',
		diescription:'Implementing renewable energy, adaptation, and sustainability projects for community resilience. ',
		Flagship: 'Solar4Change',
		link:'#',
	},
]

const Partners =[
	{
		name:'Eco Empower Alliance',
		url:'https://www.ecoempoweralliance.com/',
		logo: EcoEmpower
	},
	{
		name:'HERPol-Africa',
		url:'https://herpolafrica.org/',
		logo: HERPolAfrica
	},
	{
		name:'Masjid Al Emaan',
		url:'#',
		logo: MasjidAlEmaan
	},
]


const allNews = await getCollection('news');
const team = await getCollection('team');

---

<Layout >
	<!-- Hero Section -->
	<section>
		<div class='relative'>
		<Picture src={HeroImage} priority alt='Hero image' class='aspect-video h-[80dvh] md:h-[80dvh] object-cover' />
			<div class="absolute inset-0 bg-gradient-to-tr from-sky-600 "/>
			<div class="absolute inset-0 bg-black/50" />
			<div class='absolute inset-0  flex items-center'>
				<div class="px-8 max-w-3xl">
					<h1 class="text-4xl md:text-5xl font-bold text-white tracking-tight">Sustainability Through Innovation</h1>
					<div class="mt-4 h-1 w-16 rounded bg-[#04B130]" />
					
					<p class="mt-6 text-lg md:text-xl text-gray-100 leading-relaxed">
						ISIR Ghana is a multidisciplinary research and consultancy institute turning evidence into action across Child & Maternal Health, Education (STEAM), Agriculture, and Climate Change. 
					</p>

					<div class="mt-10 flex flex-wrap gap-4 items-center">         
					<a href=`${import.meta.env.BASE_URL}/donate` class="primary-link">Donate</a>           
	
					<a href=`${import.meta.env.BASE_URL}/projects` class="secondary-link"> Explore Projects <ArrowRightIcon class="size-5 inline-flex ml-2"/></a>
				</div>
				</div>
			</div>
		</div>
	</section>



	<section class='max-w-6xl mx-auto py-16 px-4'>
		<p class='text-center font-light text-2xl max-w-3xl'>
			Through partnerships, research, and community engagement, ISIR bridges the gap between knowledge and actionâ€”ensuring that evidence informs real-world development.
		</p>
	</section>
	
	{/* Featured Projects */}
	<section aria-labelledby="featured-projects" class="relative max-w-6xl mx-auto mt-12 px-4">
		<h2 class="mb-5 text-3xl py-6 font-bold font-heading text-center tracking-px-n leading-tight tracking-tight"> Featured Projects</h2>
		<ProjectCard />
		<div class="mt-8 mb-12 w-full flex justify-center">
		<a href=`${import.meta.env.BASE_URL}/projects` class="primary-link"> 
			Explore Projects 
			<ArrowRightIcon class="size-5 inline-flex ml-2"/>
		</a>
		</div>
	</section>

	<!-- Core Focus Areas -->
	<section class="relative pb-16 max-w-6xl mx-auto px-4">
		<div class='h-[1px] w-full bg-black mb-2'/>
		<div class="relative container mx-auto ">
			<div class="space-y-6 relative">
				<h2 class="mb-5 text-3xl py-6 font-bold font-heading text-center tracking-px-n leading-tight tracking-tight ">Core Focus Areas</h2>
					<ul class="w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 space-y-6  px-4 mb-16 lg:mb-0">
					{
						FocusAreas.map((service) => (
							<li class='space-y-4 md:space-y-2'>
								<h4 class=" ">
										
									 <a href={`${import.meta.env.BASE_URL}/${service.link}`} class=' group'>
										<span class='font-bold text-xl md:text-xl leading-7 hover:underline hover:text-[#012C95]'>{service.title} 
											<span class='inline-flex items-baseline group-hover:animate-pulse  text-[#012C95]'>
												<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 16" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class=""><path d="m9 18 6-6-6-6"/></svg>
											</span>
										</span>
									</a>
								</h4>
								<p class="text-base md:text-sm">{service.diescription}</p>

								<a href={`${import.meta.env.BASE_URL}/${service.link}`} class='flex items-center space-x-0.5 group'>
									<span class='text-sm font-bold hover:underline hover:text-sky-600'>Learn more</span>
									<span class='group-hover:animate-pulse  text-sky-600'>
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class=""><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
									</span>
								</a>

							</li>
						))
					}
					</ul>

			</div>
		</div>
	</section>

		<!-- Our people -->
	<section class=' pb-16 px-4 bg-gradient-to-t from-gray-200'>
		<div class='max-w-6xl mx-auto'>
			<h2 class="mb-5 text-3xl py-6 font-bold font-heading text-center tracking-px-n leading-tight tracking-tight">Our people</h2>
			<ul class='grid sm:grid-cols-2 md:grid-cols-3 gap-4'>
				{team .slice(0,3).map((member)=>(
				<li class='space-y-2 text-center group bg-white p-6 md:p-12'>
					<a href={`${import.meta.env.BASE_URL}/team/${member.id}`} class='space-y-4'>
						<div class='flex items-center justify-center'>
							<Image src={member.data.profile} alt='' class='aspect-square size-40 rounded-full'/>
						</div>
						<h6 class='font-bold text-2xl md:text-xl group-hover:underline group-hover:text-[#012C95]'>{member.data.name}</h6>
						<h6 class='font-medium text-base leading-5'>{member.data.role}</h6>
						<div class='flex items-center justify-center space-x-2 mt-2'>
							<a href={member.data.linkedin_url} target='_blank'><Image src={LinkedInIcon} alt='' class='aspect-square size-5'/></a>
						</div>
						{/* <p class='text-base leading-5'>{member.data.summary}</p> */}
					</a>
				</li>
				))}
			</ul>

			<div class="mt-8 mb-12 w-full flex justify-center">
				<a href=`${import.meta.env.BASE_URL}/team` class="primary-link"> 
					Our Team 
					<ArrowRightIcon class="size-5 inline-flex ml-2"/>
				</a>
			</div>
		</div>
	</section>

	<!-- News -->
	<section class='bg-sky-100 md:bg-transparent  md:bg-gradient-to-l from-sky-100 from-60%'>
		<div class='max-w-6xl mx-auto py-16  px-4'>
			<div class='h-[1px] w-full bg-black mb-2'/>
			<h2 class="mb-5 text-3xl py-6 font-bold font-heading text-center tracking-px-n leading-tight tracking-tight">News</h2>

			<div>
				<ul class='grid sm:grid-cols-2 space-y-12 md:grid-cols-3 gap-8'>
					{allNews.map(post => (
						<li class='space-y-2  '>
						<a href={`${import.meta.env.BASE_URL}/news/${post.id}`}>
							<Picture src={post.data.thumbnail} alt='' class='aspect-auto max-h-44'/>
						</a>
						<div class='text-sm text-gray-500 pt-4'>
						News | <time class='italic'>{post.data.date.toLocaleDateString()}</time>
						</div>
						<h4 class=" ">	
							<a href={`${import.meta.env.BASE_URL}/news/${post.id}`} class=' group'>
								<span class='font-bold text-xl md:text-xl leading-7 hover:underline hover:text-[#012C95]'>{post.data.title} 
									<span class='inline-flex items-baseline group-hover:animate-pulse  text-[#012C95]'>
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 16" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class=""><path d="m9 18 6-6-6-6"/></svg>
									</span>
								</span>
							</a>
						</h4>
						<p class='text-base font-light line-clamp-3'>{post.data.teaser}</p>
						</li>
					))}
					
				</ul>
			</div>
		</div>

		<!-- Our Partners -->
		<section class="py-12 max-w-6xl mx-auto px-4">
			<div class="">
				<h2 class="mb-5 text-3xl font-bold font-heading text-center tracking-px-n leading-tight tracking-tight">Our Partners</h2>
				<p class="text-base text-center mx-auto font-light md:max-w-3xl mb-6">ISIR Ghana works in strategic partnership with local and international institutions committed to advancing sustainable development.</p>
				<ul class=" max-w-4xl mx-auto grid grid-cols-[repeat(auto-fill,80px)] gap-2 items-center">
					{Partners.map(partner => (
						<li>
							<a href={partner.url} target='_blank'>
								<Picture src={partner.logo} height={partner.logo.height/2}  alt={partner.name} class='aspect-video h-12 w-full'/>
							</a>
						</li>
						
					))}

				</ul>
			</div>
		</section>
	</section>

	<div class='bg-sky-50'>
		<section class='max-w-6xl mx-auto py-20'>
			<h2 class="mb-5 text-3xl py-6 font-bold font-heading text-center tracking-px-n leading-tight tracking-tight">Donor Acknowledgements</h2>
			<div class=''>
				<AcknowledgementSlider client:load/>
			</div>
		</section>
	</div>
	


	

</Layout>
